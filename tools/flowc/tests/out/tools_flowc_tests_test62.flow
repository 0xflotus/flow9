// A double-linked list
Struct(mutable field : Union);
	Union ::= Foo, Bar;

Foo();
Bar();

// a = debugtyping1;

foo(s : Struct) -> Bar {
	b = Bar();
	s.field ::= b;
	b
}

----------

foo = (\s:Struct ->
	(b : Bar = (Bar() : Bar);
	({
		((s : Struct).field ::= (b : Bar) : void);
		(b : Bar)
	}
	 : Bar) : Bar)
 : (s : Struct) -> Bar);
