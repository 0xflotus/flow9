
native map : ([?], (?) -> ??) -> [??] = Native.map;

Pair(first : ?, second : ??);
Triple(first : ?, second : ??, third : ???);
Quadruple(first : ?, second : ??, third : ???, fourth : ????);
WigiValue ::= WigiRecord;
	WigiRecord(fields : [Pair<string, WigiValue>]);

wigiValue2jsonExt(v : WigiRecord, name : string) -> int {
	\value : WigiRecord -> {
		map(value.fields, \p -> {
			Pair(p.first, wigiValue2jsonExt(p.second, ""));
		});
	}
	0
}

----------

wigiValue2jsonExt = (\v:WigiRecord, name:string ->
	({
		(\value:WigiRecord ->
			((map : ([Pair<string, WigiValue>], (Pair<string, WigiValue>) -> Pair<string, int>) -> [Pair<string, int>])(((value : WigiRecord).fields : [Pair<string, WigiValue>]), (\p:Pair<string, WigiValue> ->
				(Pair(((p : Pair<string, WigiValue>).first : string), ((wigiValue2jsonExt : (v : WigiRecord, name : string) -> int)(((p : Pair<string, WigiValue>).second : WigiValue), ("" : string)) : int)) : Pair<string, int>)
			 : (p : Pair<string, WigiValue>) -> Pair<string, int>)) : [Pair<string, int>])
		 : (value : WigiRecord) -> [Pair<string, int>]);
		(0 : int)
	}
	 : int)
 : (v : WigiRecord, name : string) -> int);
