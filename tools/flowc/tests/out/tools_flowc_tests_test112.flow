	WikiToken ::= WHeading2, WEOL;
		WHeading2 : (text : string);
		WEOL : ();

tokenize() {
	lex = ref WEOL();
	nextlexem = ref \ -> { WEOL() }; // recursion
	nextlexem := \ -> {
		lex := WHeading2("");
		^lex
	};
}

----------

tokenize = (\ ->
	(lex : ref WikiToken = (ref (WEOL() : WEOL) : ref WEOL);
	({
		(nextlexem : ref () -> WikiToken = (ref (\ ->
			(WEOL() : WEOL)
		 : () -> WEOL) : ref () -> WEOL);
		({
			(((nextlexem : ref () -> WikiToken)  :=  (\ ->
				({
					(((lex : ref WikiToken)  :=  (WHeading2(("" : string)) : WHeading2)) : void);
					(^(lex : ref WikiToken) : WikiToken)
				}
				 : WikiToken)
			 : () -> WikiToken)) : void)
		}
		 : void) : void)
	}
	 : void) : void)
 : () -> void);
