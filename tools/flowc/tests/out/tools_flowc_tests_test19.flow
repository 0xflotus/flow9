native mapi : ([?], (int, ?) -> ??) -> [??] = Native.mapi;

subtractMatrix(a : [[double]], b : [[double]]) -> [[double]] {
	mapi(a, \i, ar -> {
		br = b[i];
		mapi(ar, \j, av -> {
			bv = br[j];
			av - bv;
		})
	});
}


----------

subtractMatrix = (\a:[[double]], b:[[double]] ->
	((mapi : ([[double]], (int, [double]) -> [double]) -> [[double]])((a : [[double]]), (\i:int, ar:[double] ->
		(br : [double] = ((b : [[double]])[(i : int)] : [double]);
		({
			((mapi : ([double], (int, double) -> double) -> [double])((ar : [double]), (\j:int, av:double ->
				(bv : double = ((br : [double])[(j : int)] : double);
				({
					(((av : double) - (bv : double)) : double)
				}
				 : double) : double)
			 : (j : int, av : double) -> double)) : [double])
		}
		 : [double]) : [double])
	 : (i : int, ar : [double]) -> [double])) : [[double]])
 : (a : [[double]], b : [[double]]) -> [[double]]);
