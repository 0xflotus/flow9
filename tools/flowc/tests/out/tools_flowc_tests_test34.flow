native isSameStructType : (value1 : flow, value2 : flow) -> bool = Native.isSameStructType;

U ::= A, B;

A();
B(v : int);

foo(u : U, b : B) {
	if (isSameStructType(u, b)) {
		u.v;
	} else 0;
}

----------

foo = (\u:U, b:B ->
	(if (((isSameStructType : (value1 : U, value2 : B) -> bool)((u : U), (b : B)) : bool)) {
		((u : B).v : int)
	} else {
		(0 : int)
	}
	 : int)
 : (u : U, b : B) -> int);
