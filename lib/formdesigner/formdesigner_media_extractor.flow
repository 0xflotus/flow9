import runtime;

export {
	CallFormdesignerCollectMedia(drawing : string, wigiExtractor : (wigi : string) ->  Maybe<[string]>) -> [string];
	setCallFormdesignerCollectMedia(fn : (string, (string) -> Maybe<[string]>) -> [string]) -> void;
}

formDesignerCollectMedia : ref (string, (string) -> Maybe<[string]>) -> [string] = ref \drawing, wigiExtractor -> {
	println("CallFormdesignerCollectMedia is not initialized");
	[];
}

setCallFormdesignerCollectMedia(fn : (string, (string) ->  Maybe<[string]>) -> [string]) -> void {
	formDesignerCollectMedia := fn;
}

CallFormdesignerCollectMedia(drawing : string, wigiExtractor : (string) ->  Maybe<[string]>) -> [string] {
	^formDesignerCollectMedia(drawing, wigiExtractor);
}